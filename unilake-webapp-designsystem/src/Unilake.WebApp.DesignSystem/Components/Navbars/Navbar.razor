@namespace Unilake.WebApp.DesignSystem.Components
@inherits UnilakeBaseComponent

<nav
  class="fixed flex h-12 w-full items-center border-b border-neutral-background-border-divider bg-neutral-background-default px-4 dark:border-gray-700 dark:bg-gray-800">
  <div class="flex w-full items-center justify-between">
    @* left menu section *@
    <div class="flex gap-4 items-center">
      <Icon IconInstance="EnronIcons.Menu3" Size="28"
            class="cursor-pointer inline text-gray-600 hover:bg-gray-100 hover:text-gray-900 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-white"
            OnClick="OnClick"/>
      <div class="flex">
        <img src="/_content/Unilake.WebApp.DesignSystem/images/unilake_logo.svg" class="mr-1 h-8" alt="Unilake Logo"/>
        <img src="/_content/Unilake.WebApp.DesignSystem/images/unilake.svg" class="h-8" alt="Unilake"/>
      </div>
      @LeftContent
    </div>
    @* center menu section *@
    <div class="flex gap-4 items-center">
      @ChildContent
    </div>
    @* right menu section *@
    <div class="flex gap-4 items-center">
      @RightContent
      @* color mode toggle *@
      <Button Variant="ButtonVariant.Custom" @onclick="ToggleColorMode">
        <Icon IconInstance="EnronIcons.Brightness" Size="24"></Icon>
      </Button>
      @* user menu *@
      <div class="flex items-center rounded-full focus:ring-2 focus:ring-gray-300 dark:focus:ring-gray-600">
        <DropdownButton Align="DropdownHorizontalAlign.Left" @ref="DropdownMenu">
          <CustomButton>
            <Button Variant="ButtonVariant.Custom" @onclick="DropdownMenu.Toggle" class="mt-1">
              <img src="/_content/Unilake.WebApp.DesignSystem/images/avatar_placeholder.png" alt="user photo"/>
            </Button>
          </CustomButton>
          <ChildContent>
            <div id="accountDropdown"
                 class="w-60 divide-y divide-gray-100 overflow-hidden overflow-y-auto rounded-lg bg-white shadow-sm dark:divide-gray-600 dark:bg-gray-700"
                 data-popper-placement="bottom">
              <ul class="p-2 text-start text-sm font-medium text-gray-900 dark:text-white">
                <li>
                  <a href="#" title=""
                     class="group flex items-center gap-2 rounded-md px-3 py-2 text-gray-900 hover:bg-gray-100 dark:text-white dark:hover:bg-gray-600">
                    <svg
                      class="h-4 w-4 text-gray-500 group-hover:text-gray-900 dark:text-gray-400 dark:group-hover:text-white"
                      aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor"
                      viewBox="0 0 24 24">
                      <path
                        fill-rule="evenodd"
                        d="M12 20a7.966 7.966 0 0 1-5.002-1.756l.002.001v-.683c0-1.794 1.492-3.25 3.333-3.25h3.334c1.84 0 3.333 1.456 3.333 3.25v.683A7.966 7.966 0 0 1 12 20ZM2 12C2 6.477 6.477 2 12 2s10 4.477 10 10c0 5.5-4.44 9.963-9.932 10h-.138C6.438 21.962 2 17.5 2 12Zm10-5c-1.84 0-3.333 1.455-3.333 3.25S10.159 13.5 12 13.5c1.84 0 3.333-1.455 3.333-3.25S13.841 7 12 7Z"
                        clip-rule="evenodd"/>
                    </svg>
                    Account
                  </a>
                </li>
                <li>
                  <a href="#" title=""
                     class="group flex items-center gap-2 rounded-md px-3 py-2 text-gray-900 hover:bg-gray-100 dark:text-white dark:hover:bg-gray-600">
                    <svg
                      class="h-4 w-4 text-gray-500 group-hover:text-gray-900 dark:text-gray-400 dark:group-hover:text-white"
                      aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor"
                      viewBox="0 0 24 24">
                      <path
                        fill-rule="evenodd"
                        d="M9.586 2.586A2 2 0 0 1 11 2h2a2 2 0 0 1 2 2v.089l.473.196.063-.063a2.002 2.002 0 0 1 2.828 0l1.414 1.414a2 2 0 0 1 0 2.827l-.063.064.196.473H20a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2h-.089l-.196.473.063.063a2.002 2.002 0 0 1 0 2.828l-1.414 1.414a2 2 0 0 1-2.828 0l-.063-.063-.473.196V20a2 2 0 0 1-2 2h-2a2 2 0 0 1-2-2v-.089l-.473-.196-.063.063a2.002 2.002 0 0 1-2.828 0l-1.414-1.414a2 2 0 0 1 0-2.827l.063-.064L4.089 15H4a2 2 0 0 1-2-2v-2a2 2 0 0 1 2-2h.09l.195-.473-.063-.063a2 2 0 0 1 0-2.828l1.414-1.414a2 2 0 0 1 2.827 0l.064.063L9 4.089V4a2 2 0 0 1 .586-1.414ZM8 12a4 4 0 1 1 8 0 4 4 0 0 1-8 0Z"
                        clip-rule="evenodd"/>
                    </svg>
                    Settings
                  </a>
                </li>
                <li>
                  <a href="#" title=""
                     class="group flex items-center gap-2 rounded-md px-3 py-2 text-gray-900 hover:bg-gray-100 dark:text-white dark:hover:bg-gray-600">
                    <svg
                      class="h-4 w-4 text-gray-500 group-hover:text-gray-900 dark:text-gray-400 dark:group-hover:text-white"
                      aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor"
                      viewBox="0 0 24 24">
                      <path fill-rule="evenodd"
                            d="M8 10V7a4 4 0 1 1 8 0v3h1a2 2 0 0 1 2 2v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h1Zm2-3a2 2 0 1 1 4 0v3h-4V7Zm2 6a1 1 0 0 1 1 1v3a1 1 0 1 1-2 0v-3a1 1 0 0 1 1-1Z"
                            clip-rule="evenodd"/>
                    </svg>
                    Privacy
                  </a>
                </li>
              </ul>

              <ul class="p-2 text-start text-sm font-medium text-gray-900 dark:text-white">
                <li>
                  <a href="#" title=""
                     class="group flex items-center gap-2 rounded-md px-3 py-2 text-gray-900 hover:bg-gray-100 dark:text-white dark:hover:bg-gray-600">
                    <svg
                      class="h-4 w-4 text-gray-500 group-hover:text-gray-900 dark:text-gray-400 dark:group-hover:text-white"
                      aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor"
                      viewBox="0 0 24 24">
                      <path
                        fill-rule="evenodd"
                        d="M11 4.717c-2.286-.58-4.16-.756-7.045-.71A1.99 1.99 0 0 0 2 6v11c0 1.133.934 2.022 2.044 2.007 2.759-.038 4.5.16 6.956.791V4.717Zm2 15.081c2.456-.631 4.198-.829 6.956-.791A2.013 2.013 0 0 0 22 16.999V6a1.99 1.99 0 0 0-1.955-1.993c-2.885-.046-4.76.13-7.045.71v15.081Z"
                        clip-rule="evenodd"/>
                    </svg>
                    Help Guide
                  </a>
                </li>
                <li>
                  <a href="#" title=""
                     class="group flex items-center gap-2 rounded-md px-3 py-2 text-gray-900 hover:bg-gray-100 dark:text-white dark:hover:bg-gray-600">
                    <svg
                      class="h-4 w-4 text-gray-500 group-hover:text-gray-900 dark:text-gray-400 dark:group-hover:text-white"
                      aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor"
                      viewBox="0 0 24 24">
                      <path
                        fill-rule="evenodd"
                        d="M2 12C2 6.477 6.477 2 12 2s10 4.477 10 10-4.477 10-10 10S2 17.523 2 12Zm9.008-3.018a1.502 1.502 0 0 1 2.522 1.159v.024a1.44 1.44 0 0 1-1.493 1.418 1 1 0 0 0-1.037.999V14a1 1 0 1 0 2 0v-.539a3.44 3.44 0 0 0 2.529-3.256 3.502 3.502 0 0 0-7-.255 1 1 0 0 0 2 .076c.014-.398.187-.774.48-1.044Zm.982 7.026a1 1 0 1 0 0 2H12a1 1 0 1 0 0-2h-.01Z"
                        clip-rule="evenodd"/>
                    </svg>
                    Help Center
                  </a>
                </li>
              </ul>

              <ul class="p-2 text-start text-sm font-medium text-gray-900 dark:text-white">
                <li>
                  <a href="#" title=""
                     class="group flex items-center gap-2 rounded-md px-3 py-2 text-sm text-red-600 hover:bg-red-50 dark:text-red-500 dark:hover:bg-gray-600">
                    <svg class="h-4 w-4" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none"
                         viewBox="0 0 24 24">
                      <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M20 12H8m12 0-4 4m4-4-4-4M9 4H7a3 3 0 0 0-3 3v10a3 3 0 0 0 3 3h2"></path>
                    </svg>
                    Sign Out
                  </a>
                </li>
              </ul>
            </div>
          </ChildContent>
        </DropdownButton>
      </div>
    </div>
  </div>
</nav>


@code {
  [Parameter] public RenderFragment? LeftContent { get; set; }
  [Parameter] public RenderFragment? RightContent { get; set; }
  [Parameter] public RenderFragment? UserMenuContent { get; set; }
  public required DropdownButton DropdownMenu { get; set; }

  private Task ToggleColorMode()
  {
    throw new NotImplementedException();
    return Task.CompletedTask;
  }
}